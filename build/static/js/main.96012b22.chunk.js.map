{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","props","react_default","a","createElement","value","showAll","onChange","handleFiltering","PersonForm","onSubmit","addPerson","newName","handleNewNameChange","newPhoneNumber","handleNewPhoneNumberChange","type","Person","_ref","name","number","deletePersonButton","onClick","window","confirm","concat","Notification","message","clas","className","baseUrl","services_persons","axios","get","then","response","data","newObject","post","id","delete","put","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewPhoneNumber","_useState7","_useState8","setShowAll","_useState9","_useState10","setMessage","useEffect","personsService","initialPersons","personExists","find","person","toLowerCase","personsToShow","filter","includes","components_Notification","components_Filter","event","target","components_PersonForm","preventDefault","found","undefined","changedPerson","objectSpread","returnedPerson","map","setTimeout","catch","error","components_Person","key","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.96012b22.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Filter = (props) => {\r\n  return (\r\n    <div>\r\n      filter:\r\n      <input \r\n        value={props.showAll} \r\n        onChange={props.handleFiltering}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter","import React from 'react';\r\n\r\nconst PersonForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.addPerson}>\r\n      <div>name:\r\n        <input \r\n          value={props.newName} \r\n          onChange={props.handleNewNameChange}\r\n        />\r\n      </div>\r\n      <div>number:\r\n        <input \r\n          value={props.newPhoneNumber} \r\n          onChange={props.handleNewPhoneNumberChange}\r\n        />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default PersonForm","import React from 'react';\r\n\r\nconst Person = ({ name, number, deletePersonButton}) => {\r\n  const areYouSure = () => {\r\n    if (window.confirm(`Do you really want to delete ${name}`))\r\n      {deletePersonButton()}\r\n  }\r\n  return (\r\n    <div>\r\n      {name} {number} \r\n      <button onClick={areYouSure}>delete</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\n\r\nconst Notification = ({ message, clas }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className={clas}>\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification\r\n","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = id => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, deletePerson, update }","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport Person from './components/Person';\nimport Notification from './components/Notification';\nimport personsService from './services/persons'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newPhoneNumber, setNewPhoneNumber ] = useState('')\n  const [ showAll, setShowAll] = useState('')\n  const [message, setMessage] = useState([null])\n\n  /* fetching all data of persons from server */\n  useEffect(() => {\n    personsService\n      .getAll()\n        .then(initialPersons => {\n          setPersons(initialPersons)\n        })\n  }, [])\n\n  /* Change existing persons number or add person into server*/\n  const addPerson = (event) => {\n    event.preventDefault()\n    const found = personExists()\n    if (found !== undefined){\n      const updateNumber = window.confirm(`Phonebook already has ${newName}. Do you want to replace the old number with a new one?`)\n      if(updateNumber){\n        const changedPerson = { ...found, number: newPhoneNumber}\n        personsService\n          .update(found.id, changedPerson)\n            .then(returnedPerson => {\n              setPersons(persons.map(person => found.id !== person.id ? person : returnedPerson))\n              setMessage(\n                {\n                  message: `Person '${found.name}' phonenumber has been changed to ${newPhoneNumber}`,\n                  clas: 'change'\n                }\n              )\n              setTimeout(() => {\n                setMessage([null])\n              }, 5000)\n            })\n            .catch(error => {\n              setMessage(\n                {\n                  message: `The person ${found.name} was already deleted from server`,\n                  clas: \"delete\"\n                }\n              )\n              setPersons(persons.filter(person => person.name !== found.name))\n              setTimeout(() => {\n                setMessage([null])\n              }, 5000)\n            })\n      }\n    }else {\n      const nameObject = {\n        name: newName,\n        number: newPhoneNumber,\n      }\n      personsService\n        .create(nameObject)\n          .then(returnedPerson => {\n            setPersons(persons.concat(returnedPerson))\n            setNewName('')\n            setNewPhoneNumber('')\n            setMessage(\n              {\n                message: `Added ${newName}`,\n                clas: `add`\n              }\n            )\n            setTimeout(() => {\n              setMessage([null])\n            }, 5000)\n        })\n    }\n  }\n\n  const personExists = () => persons.find((person) => person.name.toLowerCase() === newName.toLowerCase())  \n    \n  /* Deletes person from server */\n  const deletePersonButton = (id, name) =>{\n    personsService\n      .deletePerson(id)\n        .then(() => {\n          setPersons(persons.filter(person => person.name !== name))\n          setMessage(\n            {\n              message: `Deleted ${name} succesfully`,\n              clas: \"delete\",\n            }\n          )\n          setTimeout(() => {\n            setMessage([null])\n          }, 5000)\n        })\n  } \n\n  /* Filters all persons who are not included */\n  const personsToShow = showAll\n  ? persons.filter(person => person.name.toLowerCase().includes(showAll.toLowerCase()))\n  : persons \n\n  /* Creates person statistic rows from persons array */\n  const rows = () => {\n    const namesAndPhoneNumbers = () => personsToShow.map(person => \n      <Person \n      key={person.id} \n      name={person.name} \n      number={person.number} \n      deletePersonButton={() => deletePersonButton(person.id, person.name)}/>\n    )\n    return (\n      <div>\n        {namesAndPhoneNumbers()}\n      </div>\n    )\n  }\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n\n      <Notification message={message.message} clas={message.clas}/>\n      <Filter showAll={showAll} handleFiltering={(event) => setShowAll(event.target.value)}/>\n\n      <h1>add new</h1>\n      <PersonForm \n      addPerson={addPerson}\n      newName={newName}\n      newPhoneNumber={newPhoneNumber}\n      handleNewNameChange={(event) => setNewName(event.target.value)}\n      handleNewPhoneNumberChange={(event) => setNewPhoneNumber(event.target.value)}\n      />\n\n      <h2>Numbers</h2>\n      \n      <div>\n        {rows()}\n      </div>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n\n"],"sourceRoot":""}